---
import '../styles/genericTable.css';

interface Props {
  headers: string[];
  rows: Array<Array<string | number>>;
  title?: string;
  caption?: string;
  class?: string;
}

const {
  headers = [],
  rows = [],
  title,
  caption,
  class: extraClass = '',
} = Astro.props as Props;
---

<section class={['simple-table', extraClass].filter(Boolean).join(' ')}>
  {title && <h3 class="simple-table__title">{title}</h3>}
  <div class="simple-table__wrap">
    <table class="simple-table__table">
      <thead>
        <tr>
          {headers.map(header => (
            <th scope="col">{header}</th>
          ))}
        </tr>
      </thead>
      <tbody>
        {rows.map((row) => (
          <tr>
            {row.map((cell, cellIndex) => (
              <td data-label={headers[cellIndex] ?? `Col ${cellIndex + 1}`}>
                {typeof cell === 'number' ? cell.toLocaleString() : cell}
              </td>
            ))}
          </tr>
        ))}
      </tbody>
    </table>
    {caption && <p class="simple-table__caption">{caption}</p>}
  </div>
</section>
