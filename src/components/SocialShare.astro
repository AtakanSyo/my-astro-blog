---
import { site } from '../config/site.js';
import { Icon } from 'astro-icon/components';
const { url, frontmatter } = Astro.props;
// full URL of this post
const fullUrl = site.url + url;
// URL-encode once for re-use
const eUrl = encodeURIComponent(fullUrl);
const eTitle = encodeURIComponent(frontmatter.title);
---


<div class="social-share">
  <a
    class="social-btn"
    href={`https://www.facebook.com/sharer.php?u=${fullUrl}`}
    target="_blank"
    rel="noopener"
    aria-label="Share on Facebook"
    title="Share on Facebook"
  >
    <Icon name="logos:facebook" width="20" height="20" aria-hidden="true" />
  </a>

  <a
    class="social-btn"
    href={`https://twitter.com/intent/tweet?url=${fullUrl}&text=${eTitle}`}
    target="_blank"
    rel="noopener"
    aria-label="Share on Twitter"
    title="Share on Twitter"
  >
    <Icon name="logos:twitter" width="20" height="20" aria-hidden="true" />
  </a>

  <a
    class="social-btn"
    href={`https://wa.me/?text=${eTitle}%20${fullUrl}`}
    target="_blank"
    rel="noopener"
    aria-label="Share on WhatsApp"
    title="Share on WhatsApp"
  >
    <Icon name="ion:logo-whatsapp" width="20" height="20" aria-hidden="true" />
  </a>

  <button
    class="social-btn"
    type="button"
    onClick={`navigator.clipboard.writeText("${fullUrl}")`}
    aria-label="Copy post link"
    title="Copy post link"
  >
    <Icon name="bi:link-45deg" width="20" height="20" aria-hidden="true" />
  </button>
</div>

<style>
  .social-share {
    display: flex;
    gap: 0.5rem;
    margin: 1rem 0;
  }
  .social-share a,
  .social-share button {
    width: 32px;
    height: 32px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: #f0f0f0;
    border-radius: 50%;
    border: none;
    cursor: pointer;
  }
  .social-share a:hover,
  .social-share button:hover {
    background: #e0e0e0;
  }
  .copy-link {
    font-size: 1rem;
    line-height: 1;
  }
</style>