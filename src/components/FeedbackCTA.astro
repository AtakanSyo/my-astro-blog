---
interface Props {
  email?: string;
}

// detect language from URL: paths starting with /tr use Turkish
const isTr = Astro.url.pathname.startsWith('/tr');

// default email
const DEFAULT_EMAIL = 'astrosyo.contact@gmail.com';
const { email = DEFAULT_EMAIL } = Astro.props;

// localized text
const t = {
  title:        isTr ? 'Astrosyo için geri bildiriminiz mi var?' : 'Found a mistake?',
  subtitle:     isTr ? 'Her mesajı okuyoruz' : 'We read every note',
  desc:         isTr
    ? 'Güncellememiz gerektiğini düşündüğünüz bir şey mi var, veya görüşlerinizi paylaşmak mı istiyorsunuz? astrosyo.contact@gmail.com adresine bir email gönderin.'
    : 'Spot something we should update or want to share your thoughts? Send an email to astrosyo.contact@gmail.com.',
  button:       isTr ? 'Bize e-posta gönderin ↗' : 'Email us ↗',
  subject:      isTr ? 'Astrosyo İncelemeleri İçin Geri Bildirim' : 'Feedback for Astrosyo Reviews'
};

// build mailto link with localized subject
const mailto = `mailto:${email}?subject=${encodeURIComponent(t.subject)}`;
---

<section class="feedback-cta centered_flex">
  <a class="vendor-card vendor-card-link feedback-card" href={mailto}>
    <div class="vendor-info">
      <div class="vendor-name">{t.title}</div>
      <span class="vendor-label">{t.subtitle}</span>
      <p class="vendor-desc">
        {t.desc}
      </p>
    </div>

    <span class="vendor-button">{t.button}</span>
  </a>
</section>
