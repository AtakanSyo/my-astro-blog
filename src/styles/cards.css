/*─────────────────────────────────────────────────
  Variables
─────────────────────────────────────────────────*/
:root {
  --card-bg: #ffffff;
  --card-radius: 0.5rem;
  --card-shadow: rgba(0, 0, 0, 0.05);
  --card-shadow-hover: rgba(0, 0, 0, 0.12);

  --accent: #e03131;         /* align with hero primary */
  --accent-ghost: rgba(255,255,255,.18);
  --text-muted: #555;
  --transition-fast: 0.2s ease;
}

/*─────────────────────────────────────────────────
  Grid wrapper
─────────────────────────────────────────────────*/
.post-grid {
  display: grid;
  gap: 1.5rem;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
}

/*─────────────────────────────────────────────────
  Card container
─────────────────────────────────────────────────*/
.post-card {
  background: var(--card-bg);
  border-radius: var(--card-radius);
  box-shadow: 0 2px 6px var(--card-shadow);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: transform var(--transition-fast),
              box-shadow var(--transition-fast);
  cursor: pointer;
  position: relative;
  isolation: isolate;
}

.post-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 32px var(--card-shadow-hover);
}

/*─────────────────────────────────────────────────
  Clickable area
─────────────────────────────────────────────────*/
.post-card-link {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 1rem;
  text-decoration: none;
  color: inherit;
  position: relative;
}

/* arrow on hover (subtle) */
.post-card-link::after {
  content: "→";
  position: absolute;
  top: 1rem;
  right: 1rem;
  opacity: 0;
  transition: opacity var(--transition-fast), transform var(--transition-fast);
  font-size: 1.1rem;
  color: #888;
  transform: translateX(-4px);
}
.post-card:hover .post-card-link::after {
  opacity: 0.9;
  transform: translateX(0);
}

/*─────────────────────────────────────────────────
  Typography inside
─────────────────────────────────────────────────*/
.post-card-title {
  font-size: clamp(1.05rem, 0.6vw + 1rem, 1.2rem);
  font-weight: 700;
  margin-bottom: 0.25rem;
  letter-spacing: .02em;
}

.post-card-meta {
  font-size: 0.9rem;
  color: var(--text-muted);
  margin-bottom: 0.5rem;
}

.post-card-desc {
  font-size: 0.95rem;
  line-height: 1.45;
  color: var(--text-muted);
  margin-bottom: 1rem;
  flex: none;
}

/*─────────────────────────────────────────────────
  “Read full post →” at bottom
─────────────────────────────────────────────────*/
.read-post {
  margin-top: auto;
  font-size: 0.9rem;
  font-weight: 700;
  text-align: right;
  color: var(--accent);
  opacity: 0.65;
  transition: opacity var(--transition-fast), transform var(--transition-fast);
  letter-spacing: .04em;
}
.post-card:hover .read-post {
  opacity: 1;
  transform: translateX(1px);
}

/*─────────────────────────────────────────────────
  Button group (angled CTAs to match hero)
─────────────────────────────────────────────────*/
.card-buttons {
  display: flex;
  gap: 0.5rem;
  padding: 0.75rem 1rem 1rem;
}

.card-btn {
  flex: 1;
  padding: 0.7rem 0.9rem;
  text-align: center;
  color: #fff;
  text-decoration: none;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: .06em;
  font-size: 0.85rem;

  /* angled ends */
  clip-path: polygon(10px 0%, 100% 0%, calc(100% - 10px) 100%, 0% 100%);
  border: 0;
  background: #2a2a2a;
  box-shadow:
    0 4px 16px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.05);

  transition: transform .15s ease, box-shadow .15s ease, background .15s ease, opacity .15s ease;
}
.card-btn:hover { transform: translateY(-2px); }
.card-btn:active { transform: translateY(0); }
.card-btn:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 3px rgba(255,255,255,.28),
    0 0 0 6px rgba(224,49,49,.45);
}

/* variants */
.card-btn--primary { background: var(--accent); }
.card-btn--ghost {
  background: transparent;
  outline: 2px solid var(--accent-ghost);
}
.card-btn--ghost:hover {
  background: rgba(255,255,255,.08);
  outline-color: rgba(255,255,255,.32);
}

@supports not (clip-path: polygon(0 0)) {
  .card-btn { clip-path: none; border-radius: 10px; }
}

/*─────────────────────────────────────────────────
  Footer row inside cards
─────────────────────────────────────────────────*/
.post-card-footer {
  margin-top: auto;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: .75rem;
}
.post-card-footer.has-badge { justify-content: space-between; }
.post-card-badges { display: flex; gap: .4rem; align-items: center; }

/*─────────────────────────────────────────────────
  DARK SKIN: p5 / Simulation
  Usage: <article class="post-card post-card--p5">…</article>
─────────────────────────────────────────────────*/
.post-card--p5 {
  --p5-bg-1: #0c0f15;
  --p5-bg-2: #0a0d14;
  --p5-accent: #a9b4ff;    /* hero-adjacent cool accent */
  --p5-ring: #ffd9a1;
  --p5-text: #e4e4e4;
  --p5-muted: #aab2c2;

  background:
    radial-gradient(120% 140% at 60% -20%, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0) 45%),
    radial-gradient(100% 120% at 30% 0%, rgba(255,217,161,0.08) 0%, rgba(255,217,161,0) 60%),
    linear-gradient(180deg, var(--p5-bg-1), var(--p5-bg-2));
  color: var(--p5-text);
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.04);
  position: relative;
  isolation: isolate;
}

.post-card--p5::before {
  content: "";
  position: absolute;
  inset: -20% -10% auto -10%;
  height: 60%;
  background:
    radial-gradient(60% 120% at 50% 50%, rgba(255,217,161,0.14), rgba(255,217,161,0) 70%),
    conic-gradient(from 20deg at 50% 50%, rgba(255,255,255,0.08), rgba(255,255,255,0.0) 25% 75%, rgba(255,255,255,0.08));
  filter: blur(16px) saturate(1.05);
  opacity: 0.85;
  z-index: 0;
  pointer-events: none;
  transform: rotate(-6deg);
}
.post-card--p5::after {
  content: "";
  position: absolute; inset: 0;
  background-image:
    radial-gradient(1px 1px at 20% 30%, rgba(255,255,255,0.18) 50%, transparent 51%),
    radial-gradient(1px 1px at 70% 60%, rgba(255,255,255,0.14) 50%, transparent 51%),
    radial-gradient(1px 1px at 45% 80%, rgba(255,255,255,0.12) 50%, transparent 51%),
    radial-gradient(1px 1px at 85% 25%, rgba(255,255,255,0.16) 50%, transparent 51%);
  background-repeat: no-repeat;
  z-index: 0;
  pointer-events: none;
}

/* type colors */
.post-card--p5 .post-card-title { color: #fff; }
.post-card--p5 .post-card-meta,
.post-card--p5 .post-card-desc { color: var(--p5-muted); }
.post-card--p5 .read-post { color: var(--p5-accent); }

/* hover polish */
.post-card--p5:hover {
  box-shadow:
    0 18px 40px rgba(0,0,0,0.45),
    0 0 0 1px rgba(169,180,255,0.18) inset,
    0 0 30px rgba(169,180,255,0.10);
}
.post-card--p5 .post-card-link::after {
  content: "▶";
  opacity: 0;
  font-size: 1.1rem;
  color: var(--p5-accent);
  top: 1rem; right: 1rem;
}
.post-card--p5:hover .post-card-link::after { opacity: 1; }

/* badge */
.p5-badge {
  position: absolute;
  top: .85rem; left: .85rem;
  padding: .22rem .5rem;
  border-radius: .45rem;
  font-size: .72rem; font-weight: 800; letter-spacing: .2px;
  background: rgba(169,180,255,0.15);
  color: var(--p5-accent);
  border: 1px solid rgba(169,180,255,0.25);
  backdrop-filter: blur(4px);
}

/* buttons on dark */
.post-card--p5 .card-btn {
  --btn-bg: color-mix(in oklab, var(--p5-accent) 88%, #000);
  background: var(--btn-bg);
  border: 1px solid rgba(255,255,255,0.10);
  color: #0b0b0b;
}
.post-card--p5 .card-btn:hover {
  background: color-mix(in oklab, var(--p5-accent) 100%, #000);
}

/*─────────────────────────────────────────────────
  DARK SKIN: Review
─────────────────────────────────────────────────*/
.post-card--review {
  --rev-accent: #f59e0b;
  --rev-accent-2: #fde68a;
  --rev-text: #e4e4e4;
  --rev-muted: #b3bac4;

  background:
    radial-gradient(140% 180% at 100% -40%, rgba(253,230,138,0.10) 0%, rgba(253,230,138,0) 60%),
    linear-gradient(180deg, #1b1b1b, #151515);
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 8px 28px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.05);
  color: var(--rev-text);
}
.post-card--review:hover {
  box-shadow: 0 14px 38px rgba(0,0,0,0.5), 0 0 0 1px rgba(245,158,11,0.18) inset;
}
.post-card--review::before {
  content: "";
  position: absolute; top: 0; left: 0; right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--rev-accent), var(--rev-accent-2));
  opacity: .75;
}
.post-card--review .post-card-title { color: #ffffff; }
.post-card--review .post-card-meta,
.post-card--review .post-card-desc { color: var(--rev-muted); }
.post-card--review .read-post { color: var(--rev-accent); }

/* badge + buttons */
.review-badge {
  background: rgba(245,158,11,0.14);
  color: var(--rev-accent);
  border: 1px solid rgba(245,158,11,0.32);
  backdrop-filter: blur(4px);
}
.post-card--review .card-btn {
  background: color-mix(in oklab, var(--rev-accent) 92%, #000);
  color: #0c0c0c;
  border: 1px solid rgba(255,255,255,0.08);
}
.post-card--review .card-btn:hover {
  background: color-mix(in oklab, var(--rev-accent) 100%, #000);
}

/*─────────────────────────────────────────────────
  DARK SKIN: Info / Guide
─────────────────────────────────────────────────*/
.post-card--info {
  --info-accent: #14b8a6;
  --info-accent-2: #99f6e4;
  --info-text: #e4e4e4;
  --info-muted: #a7b3bf;

  background:
    radial-gradient(130% 170% at 90% -30%, rgba(20,184,166,0.10) 0%, rgba(20,184,166,0) 60%),
    linear-gradient(180deg, #1a1f23, #121519);
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 8px 28px rgba(0,0,0,0.32), inset 0 1px 0 rgba(255,255,255,0.05);
  color: var(--info-text);
  position: relative;
  overflow: hidden;
}

/* subtle grid overlay */
.post-card--info::after {
  content: "";
  position: absolute; inset: 0;
  background-image:
    repeating-linear-gradient(0deg, rgba(255,255,255,0.04) 0 1px, transparent 1px 22px),
    repeating-linear-gradient(90deg, rgba(255,255,255,0.04) 0 1px, transparent 1px 22px);
  pointer-events: none;
}
.post-card--info::before {
  content: "";
  position: absolute; left: 0; top: 0; bottom: 0; width: 4px;
  background: linear-gradient(180deg, var(--info-accent), var(--info-accent-2));
  opacity: .9;
}

.post-card--info .post-card-title { color: #ffffff; }
.post-card--info .post-card-meta,
.post-card--info .post-card-desc { color: var(--info-muted); }
.post-card--info .read-post { color: var(--info-accent); }

/* badge */
.info-badge {
  padding: .25rem .5rem;
  border-radius: .4rem;
  font-size: .72rem;
  font-weight: 800;
  letter-spacing: .2px;
  line-height: 1;
  background: rgba(20,184,166,0.14);
  color: var(--info-accent);
  border: 1px solid rgba(20,184,166,0.30);
  backdrop-filter: blur(4px);
}

/*─────────────────────────────────────────────────
  Inline badges in footer (shared)
─────────────────────────────────────────────────*/
.post-card .post-card-footer .p5-badge,
.post-card .post-card-footer .review-badge {
  position: static;
  inset: auto;
  padding: .25rem .5rem;
  border-radius: .4rem;
  font-size: .72rem;
  font-weight: 800;
  letter-spacing: .2px;
  line-height: 1;
}

/*─────────────────────────────────────────────────
  Accessibility / motion
─────────────────────────────────────────────────*/
@media (prefers-reduced-motion: reduce) {
  .post-card,
  .post-card-link::after,
  .read-post,
  .card-btn { transition: none !important; }
  .post-card:hover { transform: none; }
}
@media (forced-colors: active) {
  .post-card--p5,
  .post-card--review,
  .post-card--info { border: 1px solid CanvasText; box-shadow: none; }
  .p5-badge, .review-badge, .info-badge { border: 1px solid CanvasText; }
}